<section class="py-16 md:py-24 bg-gray-50 text-black px-4 md:px-6">
  <div class="max-w-7xl mx-auto px-4">
    <!-- Section Title -->
    <div class="mb-8 md:mb-10 flex items-center space-x-4">
      <span class="material-symbols-outlined text-cyan-500">ads_click</span>
      <h3 class="text-2xl md:text-3xl font-black uppercase tracking-tight">Anuncios PTC Disponibles</h3>
    </div>

    @if (loading()) {
      <div class="flex justify-center items-center py-16">
        <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-500"></div>
      </div>
    } @else {
      <!-- Mega Anuncios -->
      <div class="mb-10">
        <div class="flex items-center space-x-3 mb-4 md:mb-6">
          <span class="material-symbols-outlined text-purple-500">star</span>
          <h4 class="text-xl md:text-2xl font-black uppercase tracking-tight text-purple-600">Mega Anuncios</h4>
          <span class="px-2 py-1 bg-purple-100 text-purple-600 text-xs font-bold rounded-full">{{ getRewardDisplay(2) }}</span>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
          @for (ad of getAdsByType('mega'); track ad.id) {
            <div class="bg-white rounded-2xl overflow-hidden flex flex-col group border border-gray-100 shadow-[0_4px_15px_-3px_rgba(0,0,0,0.07)] hover:shadow-[0_8px_25px_-5px_rgba(147,51,234,0.2)] transition-all duration-300 hover:-translate-y-1">
              <div class="relative aspect-[4/3] overflow-hidden bg-gray-100">
                <img [alt]="ad.title" [src]="ad.imageUrl" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />
                <div class="absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold">
                  +{{ getRewardDisplay(ad.rewardUSD) }}
                </div>
              </div>
              <div class="p-3 flex flex-col flex-grow">
                <div class="flex items-center space-x-2 mb-2">
                  <div class="w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center">
                    <span class="material-symbols-outlined text-gray-400 text-sm">
                      {{ ad.advertiserType === 'company' ? 'business' : 'person' }}
                    </span>
                  </div>
                  <span class="text-xs font-bold text-gray-600 truncate">{{ ad.advertiserName }}</span>
                </div>
                <h4 class="font-bold text-sm text-gray-800 mb-2 line-clamp-2 leading-tight">{{ ad.title }}</h4>
                <div class="flex items-center justify-between text-[10px] text-gray-500 mb-3 mt-auto">
                  <span class="flex items-center space-x-1">
                    <span class="material-symbols-outlined text-xs">visibility</span>
                    <span>{{ ad.totalClicks }} vistas</span>
                  </span>
                </div>
                <a routerLink="/register" class="w-full text-center py-2 rounded-lg bg-purple-500 hover:bg-purple-400 text-white text-xs font-bold uppercase tracking-wider transition-colors flex items-center justify-center space-x-1">
                  <span>Ver Anuncio</span>
                  <span class="material-symbols-outlined text-sm">north_east</span>
                </a>
              </div>
            </div>
          }
        </div>
      </div>

      <!-- Mega 400 -->
      <div class="mb-10">
        <div class="flex items-center space-x-3 mb-4 md:mb-6">
          <span class="material-symbols-outlined text-blue-500">looks_4</span>
          <h4 class="text-xl md:text-2xl font-black uppercase tracking-tight text-blue-600">Mega 400</h4>
          <span class="px-2 py-1 bg-blue-100 text-blue-600 text-xs font-bold rounded-full">{{ getRewardDisplay(1.5) }}</span>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
          @for (ad of getAdsByType('standard_400'); track ad.id) {
            <div class="bg-white rounded-2xl overflow-hidden flex flex-col group border border-gray-100 shadow-[0_4px_15px_-3px_rgba(0,0,0,0.07)] hover:shadow-[0_8px_25px_-5px_rgba(59,130,246,0.2)] transition-all duration-300 hover:-translate-y-1">
              <div class="relative aspect-[4/3] overflow-hidden bg-gray-100">
                <img [alt]="ad.title" [src]="ad.imageUrl" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />
                <div class="absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold">
                  +{{ getRewardDisplay(ad.rewardUSD) }}
                </div>
              </div>
              <div class="p-3 flex flex-col flex-grow">
                <div class="flex items-center space-x-2 mb-2">
                  <div class="w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center">
                    <span class="material-symbols-outlined text-gray-400 text-sm">
                      {{ ad.advertiserType === 'company' ? 'business' : 'person' }}
                    </span>
                  </div>
                  <span class="text-xs font-bold text-gray-600 truncate">{{ ad.advertiserName }}</span>
                </div>
                <h4 class="font-bold text-sm text-gray-800 mb-2 line-clamp-2 leading-tight">{{ ad.title }}</h4>
                <div class="flex items-center justify-between text-[10px] text-gray-500 mb-3 mt-auto">
                  <span class="flex items-center space-x-1">
                    <span class="material-symbols-outlined text-xs">visibility</span>
                    <span>{{ ad.totalClicks }} vistas</span>
                  </span>
                </div>
                <a routerLink="/register" class="w-full text-center py-2 rounded-lg bg-blue-500 hover:bg-blue-400 text-white text-xs font-bold uppercase tracking-wider transition-colors flex items-center justify-center space-x-1">
                  <span>Ver Anuncio</span>
                  <span class="material-symbols-outlined text-sm">north_east</span>
                </a>
              </div>
            </div>
          }
        </div>
      </div>

      <!-- Mega 600 -->
      <div class="mb-10">
        <div class="flex items-center space-x-3 mb-4 md:mb-6">
          <span class="material-symbols-outlined text-cyan-500">looks_6</span>
          <h4 class="text-xl md:text-2xl font-black uppercase tracking-tight text-cyan-600">Mega 600</h4>
          <span class="px-2 py-1 bg-cyan-100 text-cyan-600 text-xs font-bold rounded-full">{{ getRewardDisplay(1.8) }}</span>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
          @for (ad of getAdsByType('standard_600'); track ad.id) {
            <div class="bg-white rounded-2xl overflow-hidden flex flex-col group border border-gray-100 shadow-[0_4px_15px_-3px_rgba(0,0,0,0.07)] hover:shadow-[0_8px_25px_-5px_rgba(6,182,212,0.2)] transition-all duration-300 hover:-translate-y-1">
              <div class="relative aspect-[4/3] overflow-hidden bg-gray-100">
                <img [alt]="ad.title" [src]="ad.imageUrl" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />
                <div class="absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold">
                  +{{ getRewardDisplay(ad.rewardUSD) }}
                </div>
              </div>
              <div class="p-3 flex flex-col flex-grow">
                <div class="flex items-center space-x-2 mb-2">
                  <div class="w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center">
                    <span class="material-symbols-outlined text-gray-400 text-sm">
                      {{ ad.advertiserType === 'company' ? 'business' : 'person' }}
                    </span>
                  </div>
                  <span class="text-xs font-bold text-gray-600 truncate">{{ ad.advertiserName }}</span>
                </div>
                <h4 class="font-bold text-sm text-gray-800 mb-2 line-clamp-2 leading-tight">{{ ad.title }}</h4>
                <div class="flex items-center justify-between text-[10px] text-gray-500 mb-3 mt-auto">
                  <span class="flex items-center space-x-1">
                    <span class="material-symbols-outlined text-xs">visibility</span>
                    <span>{{ ad.totalClicks }} vistas</span>
                  </span>
                </div>
                <a routerLink="/register" class="w-full text-center py-2 rounded-lg bg-cyan-500 hover:bg-cyan-400 text-white text-xs font-bold uppercase tracking-wider transition-colors flex items-center justify-center space-x-1">
                  <span>Ver Anuncio</span>
                  <span class="material-symbols-outlined text-sm">north_east</span>
                </a>
              </div>
            </div>
          }
        </div>
      </div>

      <!-- Mini Anuncios -->
      <div class="mb-10">
        <div class="flex items-center space-x-3 mb-4 md:mb-6">
          <span class="material-symbols-outlined text-green-500">remove_circle</span>
          <h4 class="text-xl md:text-2xl font-black uppercase tracking-tight text-green-600">Mini Anuncios</h4>
          <span class="px-2 py-1 bg-green-100 text-green-600 text-xs font-bold rounded-full">{{ getRewardDisplay(0.8) }}</span>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
          @for (ad of getAdsByType('mini'); track ad.id) {
            <div class="bg-white rounded-2xl overflow-hidden flex flex-col group border border-gray-100 shadow-[0_4px_15px_-3px_rgba(0,0,0,0.07)] hover:shadow-[0_8px_25px_-5px_rgba(34,197,94,0.2)] transition-all duration-300 hover:-translate-y-1">
              <div class="relative aspect-[4/3] overflow-hidden bg-gray-100">
                <img [alt]="ad.title" [src]="ad.imageUrl" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />
                <div class="absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold">
                  +{{ getRewardDisplay(ad.rewardUSD) }}
                </div>
              </div>
              <div class="p-3 flex flex-col flex-grow">
                <div class="flex items-center space-x-2 mb-2">
                  <div class="w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center">
                    <span class="material-symbols-outlined text-gray-400 text-sm">
                      {{ ad.advertiserType === 'company' ? 'business' : 'person' }}
                    </span>
                  </div>
                  <span class="text-xs font-bold text-gray-600 truncate">{{ ad.advertiserName }}</span>
                </div>
                <h4 class="font-bold text-sm text-gray-800 mb-2 line-clamp-2 leading-tight">{{ ad.title }}</h4>
                <div class="flex items-center justify-between text-[10px] text-gray-500 mb-3 mt-auto">
                  <span class="flex items-center space-x-1">
                    <span class="material-symbols-outlined text-xs">visibility</span>
                    <span>{{ ad.totalClicks }} vistas</span>
                  </span>
                </div>
                <a routerLink="/register" class="w-full text-center py-2 rounded-lg bg-green-500 hover:bg-green-400 text-white text-xs font-bold uppercase tracking-wider transition-colors flex items-center justify-center space-x-1">
                  <span>Ver Anuncio</span>
                  <span class="material-symbols-outlined text-sm">north_east</span>
                </a>
              </div>
            </div>
          }
        </div>
      </div>

      <!-- View All Link -->
      <div class="text-center mt-10">
        <a routerLink="/register" class="inline-flex items-center space-x-2 text-cyan-500 font-bold hover:text-cyan-400 transition-colors">
          <span>Ver todos los anuncios</span>
          <span class="material-symbols-outlined">arrow_forward</span>
        </a>
      </div>
    }
  </div>
</section>
