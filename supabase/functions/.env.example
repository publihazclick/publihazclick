# =============================================================================
# Variables de entorno para las Edge Functions de Supabase
# Copia este archivo como .env (para desarrollo local) y configura las
# variables reales en Supabase Dashboard → Settings → Edge Functions → Secrets
# =============================================================================

# ── Supabase (se configuran automáticamente en producción) ────────────────────
SUPABASE_URL=https://tu-proyecto.supabase.co
SUPABASE_SERVICE_ROLE_KEY=tu-service-role-key

# ── Wompi ─────────────────────────────────────────────────────────────────────
# Sandbox (pruebas):
#   https://sandbox.wompi.co/v1
# Producción:
#   https://production.wompi.co/v1

WOMPI_BASE_URL=https://sandbox.wompi.co/v1

# Llaves disponibles en: https://comercios.wompi.co → Configuración → Llaves API
WOMPI_PUBLIC_KEY=pub_stagtest_XXXXXXXXXX
WOMPI_PRIVATE_KEY=prv_stagtest_XXXXXXXXXX
WOMPI_EVENTS_SECRET=stagtest_events_XXXXXXXXXX

# ── Tasa de cambio USD → COP (opcional, se consulta en tiempo real si está vacío)
# Actualizar manualmente si la tasa varía mucho
USD_TO_COP_RATE=

# =============================================================================
# Comandos útiles
# =============================================================================
# Configurar un secret en Supabase:
#   supabase secrets set WOMPI_PRIVATE_KEY=prv_stagtest_XXXX
#
# Ver secrets configurados:
#   supabase secrets list
#
# Desplegar una función:
#   supabase functions deploy create-nequi-payment
#   supabase functions deploy check-payment-status
#   supabase functions deploy payment-webhook
#
# Probar localmente:
#   supabase functions serve create-nequi-payment --env-file ./supabase/functions/.env
# =============================================================================
